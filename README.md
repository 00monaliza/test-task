*REST API для обработки запросов с использованием LLM*

Описание задания: 

*Этот задание представляет REST API-сервис, разработанный на фреймворке NestJS, который обрабатывает входящие вебхук-запросы. Основная цель — асинхронно генерировать ответы с помощью LLM-модели и отправлять их на указанный callback_url. Для обеспечения асинхронности используется очередь сообщений BullMQ, а для контейнеризации — Docker.*

*Функциональные требования и их реализация:*

     1. Реализован endpoint для приема webhook-запросов. WebhookController успешно принимает POST-запросы на маршруте /webhook. Приложение возвращает статус 202 Accepted в ответ на запрос, что соответствует асинхронной обработке.
     
     2. Интегрирована LLM-модель. Сервис использует LlmService для взаимодействия с LLM-моделью через API OpenRouter, который совместим с форматом OpenAI API. Используется бесплатная модель mistral/mistral-7b-instruct-free.
     
     3. Настроена отправка результатов на заданный callback URL. В LlmService реализована функция sendResultToCallback, которая отправляет сгенерированный LLM-ответ на callback_url с помощью HttpService. Проверка с помощью RequestBin подтвердила успешную отправку и получение ответов.

     4. Реализована поддержка истории сообщений для сохранения контекста диалога. В WebhookDto добавлено необязательное поле conversationId для идентификации уникальных диалогов. Для хранения истории сообщений используется Redis, что позволяет передавать контекст предыдущих сообщений LLM-модели.

*Технические требования и использованные технологии:*

1. Фреймворк: NestJS (Node.js).
2. Асинхронная обработка: BullMQ (очередь сообщений) и Redis (брокер сообщений).
3. Kонтейнеризация: Docker и docker-compose для простого развертывания.
4. Baлидация: Используются декораторы class-validator в DTO.
5. Логирование: Встроенный логгер NestJS.
6. Конфигурация: Переменные окружения через .env.


*Инструкции по запуску проекта*

Клонируйте репозиторий:
git clone https://github.com/00monaliza/test-task.git
cd test-task

Настройте переменные окружения:
Создайте файл .env в корневой директории проекта и заполните его:

Запустите Docker-контейнеры:
Выполните команду docker-compose up в терминале. Это запустит ваше приложение и Redis.

OPENROUTER_API_KEY=ваш_ключ_openrouter

REDIS_HOST=redis

REDIS_PORT=6379
